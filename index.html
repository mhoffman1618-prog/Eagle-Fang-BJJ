<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#0a0a0a">
<title>EagleFang BJJ ‚Äî Training Log</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
<style>
/* ===== HARD RESET ===== */
*, *::before, *::after {
box-sizing: border-box;
margin: 0;
padding: 0;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
}
html {
width: 100%;
height: 100%;
overflow-x: hidden;
-webkit-text-size-adjust: 100%;
}
body {
width: 100%;
min-height: 100vh;
margin: 0;
padding: 0;
overflow-x: hidden;
background-color: #0a0a0a;
background-image: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0f0f1a 100%);
background-attachment: fixed;
font-family: 'Bebas Neue', 'Impact', 'Arial Black', sans-serif;
color: #e0e0e0;
line-height: 1.4;
}
img { max-width: 100%; display: block; }
button { font-family: inherit; }
input, textarea, select { font-family: Arial, Helvetica, sans-serif; }

```
/* ===== BACKGROUND PATTERN ===== */
.bg-pattern {
position: fixed;
top: 0; left: 0; right: 0; bottom: 0;
width: 100%; height: 100%;
background-image:
radial-gradient(circle at 20% 80%, rgba(220, 38, 38, 0.1) 0%, transparent 50%),
radial-gradient(circle at 80% 20%, rgba(30, 58, 138, 0.15) 0%, transparent 50%),
repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,0.01) 35px, rgba(255,255,255,0.01) 70px);
pointer-events: none;
z-index: 0;
}

/* ===== HEADER ===== */
header {
position: relative;
z-index: 10;
width: 100%;
padding: 20px 24px;
border-bottom: 3px solid #dc2626;
background-color: rgba(0,0,0,0.7);
background-image: linear-gradient(180deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 100%);
}
.header-inner {
max-width: 1200px;
margin: 0 auto;
display: flex;
align-items: center;
justify-content: space-between;
flex-wrap: wrap;
gap: 16px;
}
.logo-group {
display: flex;
align-items: center;
gap: 20px;
}
.logo-box {
width: 70px;
height: 70px;
min-width: 70px;
background-color: #0a0a15;
background-image: linear-gradient(135deg, #1a1a2e 0%, #0a0a15 100%);
border-radius: 12px;
display: flex;
align-items: center;
justify-content: center;
box-shadow: 0 4px 20px rgba(220, 38, 38, 0.4), inset 0 0 20px rgba(220, 38, 38, 0.1);
border: 2px solid rgba(220, 38, 38, 0.5);
overflow: visible;
}
.logo-box svg { overflow: visible; }
.title-wrap h1 {
font-size: 42px;
font-weight: 400;
letter-spacing: 4px;
margin: 0;
padding: 0;
line-height: 1.1;
display: flex;
gap: 16px;
flex-wrap: wrap;
}
.title-eagle {
background: linear-gradient(180deg, #ffffff 0%, #e5e5e5 100%);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}
.title-fang {
background: linear-gradient(180deg, #dc2626 0%, #991b1b 100%);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}
.title-bjj {
background: linear-gradient(180deg, #9ca3af 0%, #6b7280 100%);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
font-size: 36px;
}
.subtitle {
font-size: 12px;
letter-spacing: 6px;
margin: 4px 0 0 0;
color: #6b7280;
font-family: Arial, Helvetica, sans-serif;
text-transform: uppercase;
font-weight: normal;
}
.nav-btns { display: flex; gap: 12px; flex-wrap: wrap; }
.nav-btn {
padding: 12px 24px;
font-size: 16px;
letter-spacing: 2px;
border: 2px solid #374151;
background-color: transparent;
color: #9ca3af;
cursor: pointer;
border-radius: 8px;
transition: all 0.2s ease;
font-family: 'Bebas Neue', 'Impact', sans-serif;
line-height: 1;
-webkit-appearance: none;
appearance: none;
}
.nav-btn:hover { transform: translateY(-2px); }
.nav-btn:active { transform: translateY(0); }
.nav-btn.active {
border-color: #dc2626;
background-color: rgba(220, 38, 38, 0.2);
color: #dc2626;
}

/* ===== MAIN ===== */
main {
position: relative;
z-index: 10;
max-width: 1200px;
margin: 0 auto;
padding: 32px 24px;
}

/* ===== CARDS ===== */
.card {
background-color: rgba(25, 25, 35, 0.95);
background-image: linear-gradient(145deg, rgba(30, 30, 40, 0.9) 0%, rgba(20, 20, 30, 0.95) 100%);
border-radius: 16px;
padding: 24px;
border: 1px solid rgba(220, 38, 38, 0.3);
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255,255,255,0.05);
margin-bottom: 24px;
}
.card-label {
display: block;
font-size: 14px;
letter-spacing: 3px;
color: #dc2626;
margin-bottom: 12px;
font-family: 'Bebas Neue', 'Impact', sans-serif;
font-weight: normal;
}
.card-label-sm {
display: block;
font-size: 12px;
letter-spacing: 2px;
color: #9ca3af;
margin-bottom: 8px;
font-family: 'Bebas Neue', 'Impact', sans-serif;
font-weight: normal;
}

/* ===== INPUTS ===== */
input[type="text"],
input[type="date"],
textarea {
width: 100%;
padding: 14px 16px;
font-size: 18px;
background-color: rgba(0, 0, 0, 0.4);
border: 2px solid rgba(107, 114, 128, 0.3);
border-radius: 8px;
color: #e0e0e0;
outline: none;
font-family: Arial, Helvetica, sans-serif;
-webkit-appearance: none;
appearance: none;
}
textarea {
resize: vertical;
line-height: 1.5;
font-size: 15px;
padding: 12px;
}
input::placeholder, textarea::placeholder { color: #6b7280; }
input:focus, textarea:focus {
border-color: rgba(220, 38, 38, 0.5) !important;
box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
}
input[type="date"]::-webkit-date-and-time-value { text-align: left; }

/* ===== LAYOUT ===== */
.two-col {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
gap: 24px;
margin-bottom: 24px;
}
.two-col > .card { margin-bottom: 0; }

.notes-inner {
background-color: rgba(0, 0, 0, 0.3);
border-radius: 12px;
padding: 16px;
border: 1px solid rgba(107, 114, 128, 0.2);
margin-top: 16px;
}

/* ===== ROUNDS ===== */
.round-item {
background-color: rgba(0, 0, 0, 0.3);
border-radius: 12px;
border: 1px solid rgba(107, 114, 128, 0.2);
overflow: hidden;
transition: all 0.2s ease;
margin-bottom: 12px;
}
.round-item.expanded {
background-color: rgba(220, 38, 38, 0.1);
border-color: rgba(220, 38, 38, 0.4);
}
.round-header {
width: 100%;
padding: 16px 20px;
display: flex;
align-items: center;
justify-content: space-between;
background-color: transparent;
border: none;
cursor: pointer;
color: #e0e0e0;
font-family: 'Bebas Neue', 'Impact', sans-serif;
font-size: 16px;
-webkit-appearance: none;
appearance: none;
text-align: left;
}
.round-header:hover { opacity: 0.9; }
.round-left { display: flex; align-items: center; }
.round-num {
width: 36px;
height: 36px;
min-width: 36px;
border-radius: 8px;
display: inline-flex;
align-items: center;
justify-content: center;
font-size: 18px;
font-weight: bold;
background-color: rgba(107, 114, 128, 0.3);
font-family: 'Bebas Neue', 'Impact', sans-serif;
color: #e0e0e0;
}
.round-num.filled {
background-color: #b91c1c;
background-image: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
}
.round-label {
font-size: 18px;
letter-spacing: 2px;
margin-left: 12px;
font-family: 'Bebas Neue', 'Impact', sans-serif;
}
.round-partner-display {
font-size: 14px;
color: #9ca3af;
font-family: Arial, Helvetica, sans-serif;
margin-left: 12px;
}
.round-arrow {
transition: transform 0.2s ease;
font-size: 20px;
line-height: 1;
}
.round-arrow.open { transform: rotate(180deg); }
.round-body {
padding: 0 20px 20px;
display: flex;
flex-direction: column;
gap: 16px;
}
.round-body input { border-width: 1px; font-size: 16px; padding: 12px 14px; }
.round-body textarea { border-width: 1px; }

/* ===== PHOTO ===== */
.photo-upload {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
padding: 40px;
background-color: rgba(0, 0, 0, 0.3);
border: 2px dashed rgba(107, 114, 128, 0.4);
border-radius: 12px;
cursor: pointer;
transition: all 0.2s ease;
}
.photo-upload:hover { border-color: rgba(220, 38, 38, 0.5); }
.photo-upload .icon { font-size: 48px; margin-bottom: 12px; display: block; }
.photo-upload .text { font-size: 16px; color: #9ca3af; font-family: Arial, Helvetica, sans-serif; }
.photo-preview { position: relative; }
.photo-preview img {
width: 100%;
max-height: 400px;
object-fit: cover;
border-radius: 12px;
}
.photo-remove {
position: absolute;
top: 12px;
right: 12px;
width: 40px;
height: 40px;
background-color: rgba(220, 38, 38, 0.9);
border: none;
border-radius: 8px;
color: white;
font-size: 20px;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
line-height: 1;
}

/* ===== BUTTONS ===== */
.btn-row { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
.btn-save {
padding: 18px 48px;
font-size: 20px;
letter-spacing: 3px;
background-color: #b91c1c;
background-image: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
border: none;
border-radius: 12px;
color: white;
cursor: pointer;
font-family: 'Bebas Neue', 'Impact', sans-serif;
box-shadow: 0 8px 24px rgba(220, 38, 38, 0.4);
transition: all 0.2s ease;
-webkit-appearance: none;
appearance: none;
line-height: 1;
}
.btn-save:hover { transform: translateY(-2px); }
.btn-save:active { transform: translateY(0); }
.btn-save.editing {
background-color: #1d4ed8;
background-image: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
box-shadow: 0 8px 24px rgba(37, 99, 235, 0.4);
}
.btn-clear {
padding: 18px 48px;
font-size: 20px;
letter-spacing: 3px;
background-color: transparent;
border: 2px solid #6b7280;
border-radius: 12px;
color: #9ca3af;
cursor: pointer;
font-family: 'Bebas Neue', 'Impact', sans-serif;
transition: all 0.2s ease;
-webkit-appearance: none;
appearance: none;
line-height: 1;
}
.btn-clear:hover { transform: translateY(-2px); }
.btn-clear:active { transform: translateY(0); }

/* Action buttons */
.btn-action {
padding: 12px 24px;
font-size: 14px;
letter-spacing: 2px;
border-radius: 8px;
cursor: pointer;
font-family: 'Bebas Neue', 'Impact', sans-serif;
transition: all 0.2s ease;
-webkit-appearance: none;
appearance: none;
line-height: 1;
}
.btn-action:hover { transform: translateY(-2px); }
.btn-action:active { transform: translateY(0); }
.btn-action.view { background-color: rgba(30, 58, 138, 0.3); border: 1px solid rgba(59, 130, 246, 0.5); color: #60a5fa; }
.btn-action.edit { background-color: rgba(22, 101, 52, 0.3); border: 1px solid rgba(34, 197, 94, 0.5); color: #4ade80; }
.btn-action.delete { background-color: rgba(127, 29, 29, 0.3); border: 1px solid rgba(220, 38, 38, 0.5); color: #f87171; }
.btn-action.back { background-color: transparent; border: 1px solid #6b7280; color: #9ca3af; font-size: 16px; }
.btn-action.edit-entry { background-color: rgba(22, 101, 52, 0.3); border: 1px solid rgba(34, 197, 94, 0.5); color: #4ade80; font-size: 16px; }

/* ===== EDIT BANNER ===== */
.edit-banner {
background-color: rgba(59, 130, 246, 0.15);
border: 1px solid rgba(59, 130, 246, 0.5);
border-radius: 12px;
padding: 16px 24px;
margin-bottom: 24px;
display: flex;
align-items: center;
justify-content: space-between;
flex-wrap: wrap;
gap: 12px;
}
.edit-banner-text {
font-size: 18px;
letter-spacing: 2px;
color: #60a5fa;
font-family: 'Bebas Neue', 'Impact', sans-serif;
}
.edit-banner button {
padding: 8px 20px;
font-size: 14px;
letter-spacing: 2px;
background-color: transparent;
border: 1px solid #6b7280;
border-radius: 8px;
color: #9ca3af;
cursor: pointer;
font-family: 'Bebas Neue', 'Impact', sans-serif;
-webkit-appearance: none;
}

/* ===== HISTORY ===== */
.history-title {
font-size: 28px;
letter-spacing: 4px;
color: #dc2626;
margin-bottom: 24px;
font-family: 'Bebas Neue', 'Impact', sans-serif;
font-weight: normal;
}
.empty-state {
text-align: center;
padding: 60px 24px;
background-color: rgba(30, 30, 40, 0.5);
border-radius: 16px;
border: 1px solid rgba(107, 114, 128, 0.2);
}
.empty-state .icon { font-size: 64px; display: block; }
.empty-state p { font-size: 20px; color: #6b7280; margin-top: 16px; font-family: Arial, Helvetica, sans-serif; }

.history-card {
background-color: rgba(25, 25, 35, 0.95);
background-image: linear-gradient(145deg, rgba(30, 30, 40, 0.9) 0%, rgba(20, 20, 30, 0.95) 100%);
border-radius: 16px;
padding: 20px 24px;
border: 1px solid rgba(220, 38, 38, 0.3);
display: flex;
align-items: center;
justify-content: space-between;
flex-wrap: wrap;
gap: 16px;
margin-bottom: 16px;
}
.history-info { flex: 1; min-width: 200px; }
.history-date {
font-size: 22px;
letter-spacing: 2px;
margin-bottom: 8px;
font-family: 'Bebas Neue', 'Impact', sans-serif;
}
.history-meta { font-size: 14px; color: #9ca3af; font-family: Arial, Helvetica, sans-serif; line-height: 1.6; }
.history-meta .hl { color: #dc2626; }
.history-meta .sep { margin: 0 12px; color: #374151; }
.history-actions { display: flex; gap: 12px; flex-wrap: wrap; }

/* ===== VIEW DETAIL ===== */
.view-header-row { display: flex; gap: 12px; margin-bottom: 24px; flex-wrap: wrap; }
.view-card {
background-color: rgba(25, 25, 35, 0.95);
background-image: linear-gradient(145deg, rgba(30, 30, 40, 0.9) 0%, rgba(20, 20, 30, 0.95) 100%);
border-radius: 16px;
padding: 32px;
border: 1px solid rgba(220, 38, 38, 0.3);
}
.view-date {
font-size: 32px;
letter-spacing: 4px;
color: #dc2626;
margin-bottom: 8px;
font-family: 'Bebas Neue', 'Impact', sans-serif;
font-weight: normal;
}
.view-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 24px;
margin-bottom: 32px;
padding-bottom: 24px;
border-bottom: 1px solid rgba(107, 114, 128, 0.2);
}
.view-field-label {
display: block;
color: #9ca3af;
font-size: 12px;
letter-spacing: 2px;
font-family: 'Bebas Neue', 'Impact', sans-serif;
}
.view-field-value {
font-size: 20px;
margin: 8px 0 0;
font-family: Arial, Helvetica, sans-serif;
color: #e0e0e0;
}
.view-section-label {
display: block;
color: #dc2626;
font-size: 14px;
letter-spacing: 2px;
font-family: 'Bebas Neue', 'Impact', sans-serif;
}
.view-notes-block {
font-size: 16px;
margin: 12px 0 0;
font-family: Arial, Helvetica, sans-serif;
line-height: 1.6;
color: #d1d5db;
background-color: rgba(0,0,0,0.2);
padding: 16px;
border-radius: 8px;
}
.view-round {
background-color: rgba(0, 0, 0, 0.3);
border-radius: 12px;
padding: 16px 20px;
border: 1px solid rgba(107, 114, 128, 0.2);
margin-bottom: 12px;
}
.view-round-header { display: flex; align-items: center; gap: 12px; }
.view-round-num {
width: 32px;
height: 32px;
min-width: 32px;
background-color: #b91c1c;
background-image: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
border-radius: 6px;
display: inline-flex;
align-items: center;
justify-content: center;
font-size: 16px;
font-family: 'Bebas Neue', 'Impact', sans-serif;
color: #e0e0e0;
}
.view-round-partner { font-size: 18px; font-family: Arial, Helvetica, sans-serif; color: #e0e0e0; }
.view-round-notes {
font-size: 15px;
color: #9ca3af;
margin: 12px 0 0;
padding-left: 44px;
font-family: Arial, Helvetica, sans-serif;
line-height: 1.5;
}
.no-rounds { color: #6b7280; font-family: Arial, Helvetica, sans-serif; }

/* ===== UTILITY ===== */
.fade-in { animation: fadeIn 0.3s ease; }
@keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}
.hidden { display: none !important; }

/* ===== SCROLLBAR ===== */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.2); }
::-webkit-scrollbar-thumb { background: rgba(220, 38, 38, 0.5); border-radius: 4px; }

/* ===== MOBILE ===== */
@media (max-width: 600px) {
.title-wrap h1 { font-size: 28px; gap: 8px; }
.title-bjj { font-size: 24px !important; }
.header-inner { gap: 12px; }
.logo-box { width: 50px; height: 50px; min-width: 50px; }
.logo-box svg { width: 42px !important; height: 42px !important; }
main { padding: 16px 12px; }
.card { padding: 16px; }
.btn-save, .btn-clear { padding: 14px 32px; font-size: 18px; }
.history-actions { width: 100%; }
.history-actions button { flex: 1; min-width: 0; }
.view-card { padding: 20px; }
.nav-btn { padding: 10px 16px; font-size: 14px; }
}
```

</style>
</head>
<body>

<div class="bg-pattern"></div>

<!-- ===== HEADER ===== -->

<header>
<div class="header-inner">
<div class="logo-group">
<div class="logo-box">
<svg viewBox="0 0 64 64" width="60" height="60">
<defs>
<linearGradient id="hg" x1="0%" y1="0%" x2="100%" y2="100%">
<stop offset="0%" stop-color="#ffffff"/><stop offset="100%" stop-color="#e5e5e5"/>
</linearGradient>
<linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
<stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#d97706"/>
</linearGradient>
<linearGradient id="blg" x1="0%" y1="0%" x2="0%" y2="100%">
<stop offset="0%" stop-color="#dc2626"/><stop offset="100%" stop-color="#7f1d1d"/>
</linearGradient>
</defs>
<ellipse cx="32" cy="22" rx="18" ry="16" fill="url(#hg)"/>
<ellipse cx="26" cy="18" rx="6" ry="5" fill="#f5f5f5"/>
<ellipse cx="38" cy="18" rx="6" ry="5" fill="#f5f5f5"/>
<path d="M14 28 Q12 35 16 42 Q20 48 32 50 Q44 48 48 42 Q52 35 50 28 Q45 32 32 34 Q19 32 14 28Z" fill="#3d2914"/>
<ellipse cx="26" cy="20" rx="4" ry="3.5" fill="#1a1a1a"/>
<ellipse cx="38" cy="20" rx="4" ry="3.5" fill="#1a1a1a"/>
<ellipse cx="27" cy="19.5" rx="2" ry="1.8" fill="#fbbf24"/>
<ellipse cx="39" cy="19.5" rx="2" ry="1.8" fill="#fbbf24"/>
<circle cx="27.5" cy="19" r="1" fill="#000"/>
<circle cx="39.5" cy="19" r="1" fill="#000"/>
<path d="M22 16 L30 18" stroke="#5d4520" stroke-width="2" stroke-linecap="round"/>
<path d="M42 16 L34 18" stroke="#5d4520" stroke-width="2" stroke-linecap="round"/>
<path d="M28 26 Q32 24 36 26 Q38 28 40 32 Q38 30 32 32 Q26 30 24 32 Q26 28 28 26Z" fill="url(#bg)"/>
<path d="M26 32 Q32 30 38 32 L40 36 Q38 38 32 40 Q26 38 24 36 Z" fill="url(#bg)"/>
<path d="M27 32 L28 35 L29 32 L30 35 L31 32 L32 35 L33 32 L34 35 L35 32 L36 35 L37 32" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M28 36 L29 33.5 L30 36 L31 33.5 L32 36 L33 33.5 L34 36 L35 33.5 L36 36" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<ellipse cx="29" cy="42" rx="1.5" ry="3" fill="url(#blg)"/>
<ellipse cx="32" cy="44" rx="1.8" ry="4" fill="url(#blg)"/>
<ellipse cx="35" cy="41" rx="1.3" ry="2.5" fill="url(#blg)"/>
<path d="M29 45 Q28.5 50 29 54 Q29.5 56 29 58" stroke="url(#blg)" stroke-width="2" stroke-linecap="round" fill="none"/>
<path d="M32 48 Q31 55 32 62" stroke="url(#blg)" stroke-width="2.5" stroke-linecap="round" fill="none"/>
<path d="M35 43.5 Q35.5 47 35 50" stroke="url(#blg)" stroke-width="1.8" stroke-linecap="round" fill="none"/>
<ellipse cx="29" cy="59" rx="2" ry="2.5" fill="#dc2626"/>
<ellipse cx="32" cy="64" rx="2.5" ry="3" fill="#b91c1c"/>
<ellipse cx="35" cy="51" rx="1.8" ry="2" fill="#dc2626"/>
</svg>
</div>
<div class="title-wrap">
<h1>
<span class="title-eagle">EAGLE</span>
<span class="title-fang">FANG</span>
<span class="title-bjj">BJJ</span>
</h1>
<p class="subtitle">Training Log System</p>
</div>
</div>
<div class="nav-btns">
<button class="nav-btn active" id="navNew" onclick="showView('new')">NEW ENTRY</button>
<button class="nav-btn" id="navHistory" onclick="showView('history')">HISTORY (<span id="entryCount">0</span>)</button>
</div>
</div>
</header>

<!-- ===== MAIN CONTENT ===== -->

<main>

<!-- NEW ENTRY VIEW -->

<div id="viewNew" class="fade-in">
<div id="editBanner" class="edit-banner hidden">
<span class="edit-banner-text" id="editBannerText">‚úèÔ∏è EDITING ENTRY</span>
<button onclick="clearForm()">CANCEL EDIT</button>
</div>

```
<div class="two-col">
<div class="card">
<label class="card-label">üìÖ DATE</label>
<input type="date" id="entryDate">
</div>
<div class="card">
<label class="card-label">ü•ã INSTRUCTOR</label>
<input type="text" id="entryInstructor" placeholder="Enter instructor name...">
</div>
</div>

<div class="card">
<label class="card-label">üî• TECHNIQUE COVERED</label>
<input type="text" id="entryTechnique" placeholder="e.g., Armbar from guard, Triangle setup..." style="margin-bottom:16px">
<div class="notes-inner">
<label class="card-label-sm">üìù TECHNIQUE NOTES</label>
<textarea id="entryTechniqueNotes" rows="4" placeholder="Key details, tips, common mistakes to avoid..."></textarea>
</div>
</div>

<div class="card">
<label class="card-label">‚öîÔ∏è TRAINING ROUNDS (1-10)</label>
<div id="roundsContainer"></div>
</div>

<div class="card">
<label class="card-label">üì∏ PHOTO</label>
<div id="photoUploadArea">
<label class="photo-upload" id="photoUploadLabel">
<span class="icon">üì∑</span>
<span class="text">Click to upload a photo</span>
<input type="file" accept="image/*" id="photoInput" style="display:none" onchange="handlePhoto(event)">
</label>
</div>
<div id="photoPreviewArea" class="photo-preview hidden">
<img id="photoPreviewImg" alt="Training session">
<button class="photo-remove" onclick="removePhoto()">‚úï</button>
</div>
</div>

<div class="btn-row">
<button class="btn-save" id="saveBtn" onclick="saveEntry()">üíæ SAVE ENTRY</button>
<button class="btn-clear" onclick="clearForm()">üóëÔ∏è CLEAR</button>
</div>
```

</div>

<!-- HISTORY VIEW -->

<div id="viewHistory" class="fade-in hidden">
<h2 class="history-title">üìú TRAINING HISTORY</h2>
<div id="historyList"></div>
</div>

<!-- VIEW DETAIL -->

<div id="viewDetail" class="fade-in hidden">
<div class="view-header-row">
<button class="btn-action back" onclick="showView('history')">‚Üê BACK TO HISTORY</button>
<button class="btn-action edit-entry" id="editFromViewBtn" onclick="editFromView()">‚úèÔ∏è EDIT THIS ENTRY</button>
</div>
<div class="view-card" id="viewDetailContent"></div>
</div>

</main>

<!-- ===== JAVASCRIPT ===== -->

<script>
(function() {
'use strict';

var entries = [];
var editingEntryId = null;
var expandedRounds = new Set([1]);
var currentPhoto = null;
var viewingEntryId = null;

document.addEventListener('DOMContentLoaded', function() {
try {
var saved = localStorage.getItem('eaglefang-bjj-entries');
if (saved) entries = JSON.parse(saved);
} catch(e) { entries = []; }
updateEntryCount();
setTodayDate();
buildRounds();
});

function setTodayDate() {
var d = new Date();
var yyyy = d.getFullYear();
var mm = String(d.getMonth() + 1).padStart(2, '0');
var dd = String(d.getDate()).padStart(2, '0');
document.getElementById('entryDate').value = yyyy + '-' + mm + '-' + dd;
}

function updateEntryCount() {
document.getElementById('entryCount').textContent = entries.length;
}

function saveToStorage() {
try { localStorage.setItem('eaglefang-bjj-entries', JSON.stringify(entries)); } catch(e) {}
}

function formatDate(dateString) {
if (!dateString) return '‚Äî';
var parts = dateString.split('-');
var year = parseInt(parts[0], 10);
var month = parseInt(parts[1], 10) - 1;
var day = parseInt(parts[2], 10);
var date = new Date(year, month, day);
return date.toLocaleDateString('en-US', {
weekday: 'short', year: 'numeric', month: 'short', day: 'numeric'
});
}

function escapeHtml(str) {
if (!str) return '';
var div = document.createElement('div');
div.textContent = str;
return div.innerHTML;
}

function activeRoundsCount(entry) {
return entry.rounds.filter(function(r) { return r.partnerName || r.notes; }).length;
}

window.showView = function(view) {
document.getElementById('viewNew').classList.toggle('hidden', view !== 'new');
document.getElementById('viewHistory').classList.toggle('hidden', view !== 'history');
document.getElementById('viewDetail').classList.toggle('hidden', view !== 'detail');
document.getElementById('navNew').classList.toggle('active', view === 'new');
document.getElementById('navHistory').classList.toggle('active', view === 'history' || view === 'detail');
if (view === 'new' && !editingEntryId) clearFormInternal();
if (view === 'history') renderHistory();
};

function buildRounds() {
var container = document.getElementById('roundsContainer');
var html = '';
for (var i = 1; i <= 10; i++) {
var isExp = expandedRounds.has(i);
html += '<div class="round-item' + (isExp ? ' expanded' : '') + '" id="roundItem' + i + '">';
html += '<button class="round-header" onclick="toggleRound(' + i + ')">';
html += '<div class="round-left">';
html += '<span class="round-num" id="roundNum' + i + '">' + i + '</span>';
html += '<span class="round-label">ROUND ' + i + '</span>';
html += '<span class="round-partner-display" id="roundPD' + i + '"></span>';
html += '</div>';
html += '<span class="round-arrow' + (isExp ? ' open' : '') + '" id="roundArrow' + i + '">‚ñº</span>';
html += '</button>';
html += '<div class="round-body" id="roundBody' + i + '"' + (isExp ? '' : ' style="display:none"') + '>';
html += '<div><label class="card-label-sm">ü§ù TRAINING PARTNER</label>';
html += '<input type="text" id="roundPartner' + i + '" placeholder="Partner\'s name..." oninput="updateRoundDisplay(' + i + ')"></div>';
html += '<div><label class="card-label-sm">üìù ROUND NOTES</label>';
html += '<textarea id="roundNotes' + i + '" rows="3" placeholder="What happened? Submissions, positions, things to work on..."></textarea></div>';

```
html += '</div></div>';
}
container.innerHTML = html;
```

}

window.toggleRound = function(num) {
if (expandedRounds.has(num)) expandedRounds.delete(num);
else expandedRounds.add(num);
var body = document.getElementById(‚ÄòroundBody‚Äô + num);
var arrow = document.getElementById(‚ÄòroundArrow‚Äô + num);
var item = document.getElementById(‚ÄòroundItem‚Äô + num);
if (expandedRounds.has(num)) {
body.style.display = ‚Äò‚Äô;
arrow.classList.add(‚Äòopen‚Äô);
item.classList.add(‚Äòexpanded‚Äô);
} else {
body.style.display = ‚Äònone‚Äô;
arrow.classList.remove(‚Äòopen‚Äô);
item.classList.remove(‚Äòexpanded‚Äô);
}
};

window.updateRoundDisplay = function(num) {
var val = document.getElementById(‚ÄòroundPartner‚Äô + num).value;
document.getElementById(‚ÄòroundPD‚Äô + num).textContent = val ? ‚Äôvs ‚Äô + val : ‚Äò‚Äô;
var notes = document.getElementById(‚ÄòroundNotes‚Äô + num).value;
var numEl = document.getElementById(‚ÄòroundNum‚Äô + num);
if (val || notes) numEl.classList.add(‚Äòfilled‚Äô);
else numEl.classList.remove(‚Äòfilled‚Äô);
};

window.handlePhoto = function(e) {
var file = e.target.files[0];
if (!file) return;
var reader = new FileReader();
reader.onloadend = function() {
currentPhoto = reader.result;
document.getElementById(‚ÄòphotoPreviewImg‚Äô).src = currentPhoto;
document.getElementById(‚ÄòphotoUploadArea‚Äô).classList.add(‚Äòhidden‚Äô);
document.getElementById(‚ÄòphotoPreviewArea‚Äô).classList.remove(‚Äòhidden‚Äô);
};
reader.readAsDataURL(file);
};

window.removePhoto = function() {
currentPhoto = null;
document.getElementById(‚ÄòphotoInput‚Äô).value = ‚Äò‚Äô;
document.getElementById(‚ÄòphotoUploadArea‚Äô).classList.remove(‚Äòhidden‚Äô);
document.getElementById(‚ÄòphotoPreviewArea‚Äô).classList.add(‚Äòhidden‚Äô);
};

window.saveEntry = function() {
var rounds = [];
for (var i = 1; i <= 10; i++) {
rounds.push({
roundNumber: i,
partnerName: document.getElementById(‚ÄòroundPartner‚Äô + i).value,
notes: document.getElementById(‚ÄòroundNotes‚Äô + i).value
});
}
var entry = {
id: editingEntryId || Date.now(),
date: document.getElementById(‚ÄòentryDate‚Äô).value,
instructor: document.getElementById(‚ÄòentryInstructor‚Äô).value,
techniqueCovered: document.getElementById(‚ÄòentryTechnique‚Äô).value,
techniqueNotes: document.getElementById(‚ÄòentryTechniqueNotes‚Äô).value,
rounds: rounds,
photo: currentPhoto,
savedAt: new Date().toISOString()
};
if (editingEntryId) {
for (var j = 0; j < entries.length; j++) {
if (entries[j].id === editingEntryId) { entries[j] = entry; break; }
}
} else {
entries.push(entry);
}
saveToStorage();
updateEntryCount();
clearFormInternal();
};

function clearFormInternal() {
editingEntryId = null;
setTodayDate();
document.getElementById(‚ÄòentryInstructor‚Äô).value = ‚Äò‚Äô;
document.getElementById(‚ÄòentryTechnique‚Äô).value = ‚Äò‚Äô;
document.getElementById(‚ÄòentryTechniqueNotes‚Äô).value = ‚Äò‚Äô;
currentPhoto = null;
document.getElementById(‚ÄòphotoInput‚Äô).value = ‚Äò‚Äô;
document.getElementById(‚ÄòphotoUploadArea‚Äô).classList.remove(‚Äòhidden‚Äô);
document.getElementById(‚ÄòphotoPreviewArea‚Äô).classList.add(‚Äòhidden‚Äô);
expandedRounds = new Set([1]);
buildRounds();
document.getElementById(‚ÄòeditBanner‚Äô).classList.add(‚Äòhidden‚Äô);
document.getElementById(‚ÄòsaveBtn‚Äô).textContent = ‚Äòüíæ SAVE ENTRY‚Äô;
document.getElementById(‚ÄòsaveBtn‚Äô).classList.remove(‚Äòediting‚Äô);
}
window.clearForm = clearFormInternal;

function renderHistory() {
var list = document.getElementById(‚ÄòhistoryList‚Äô);
if (entries.length === 0) {
list.innerHTML = ‚Äò<div class="empty-state"><span class="icon">ü•ã</span><p>No training sessions logged yet. Start your journey!</p></div>‚Äô;
return;
}
var sorted = entries.slice().reverse();
var html = ‚Äò‚Äô;
for (var i = 0; i < sorted.length; i++) {
var entry = sorted[i];
var ar = activeRoundsCount(entry);
html += ‚Äò<div class="history-card">‚Äô;
html += ‚Äò<div class="history-info">‚Äô;
html += ‚Äò<div class="history-date">‚Äô + formatDate(entry.date) + ‚Äò</div>‚Äô;
html += ‚Äò<div class="history-meta">‚Äô;
html += ‚Äô<span class="hl">Instructor:</span> ‚Äô + (escapeHtml(entry.instructor) || ‚ÄòNot specified‚Äô);
html += ‚Äò<span class="sep">|</span>‚Äô;
html += ‚Äô<span class="hl">Technique:</span> ‚Äô + (escapeHtml(entry.techniqueCovered) || ‚ÄòNot specified‚Äô);
html += ‚Äò<span class="sep">|</span>‚Äô;
html += ‚Äô<span class="hl">Rounds:</span> ‚Äô + ar;
html += ‚Äò</div></div>‚Äô;
html += ‚Äò<div class="history-actions">‚Äô;
html += ‚Äò<button class="btn-action view" onclick="viewDetail(' + entry.id + ')">üëÅÔ∏è VIEW</button>‚Äô;
html += ‚Äò<button class="btn-action edit" onclick="editEntry(' + entry.id + ')">‚úèÔ∏è EDIT</button>‚Äô;
html += ‚Äò<button class="btn-action delete" onclick="deleteEntry(' + entry.id + ')">üóëÔ∏è DELETE</button>‚Äô;
html += ‚Äò</div></div>‚Äô;
}
list.innerHTML = html;
}

window.viewDetail = function(id) {
var entry = null;
for (var i = 0; i < entries.length; i++) { if (entries[i].id === id) { entry = entries[i]; break; } }
if (!entry) return;
viewingEntryId = id;

```
var activeR = entry.rounds.filter(function(r) { return r.partnerName || r.notes; });
var roundsHtml = '';
if (activeR.length > 0) {
for (var j = 0; j < activeR.length; j++) {
var r = activeR[j];
roundsHtml += '<div class="view-round">';
roundsHtml += '<div class="view-round-header">';
roundsHtml += '<span class="view-round-num">' + r.roundNumber + '</span>';
roundsHtml += '<span class="view-round-partner">' + (r.partnerName ? 'vs ' + escapeHtml(r.partnerName) : 'Round ' + r.roundNumber) + '</span>';
roundsHtml += '</div>';
if (r.notes) roundsHtml += '<p class="view-round-notes">' + escapeHtml(r.notes) + '</p>';
roundsHtml += '</div>';
}
} else {
roundsHtml = '<p class="no-rounds">No rounds logged for this session.</p>';
}

var html = '<h2 class="view-date">' + formatDate(entry.date) + '</h2>';
html += '<div class="view-grid"><div>';
html += '<span class="view-field-label">INSTRUCTOR</span>';
html += '<p class="view-field-value">' + (escapeHtml(entry.instructor) || '‚Äî') + '</p>';
html += '</div><div>';
html += '<span class="view-field-label">TECHNIQUE COVERED</span>';
html += '<p class="view-field-value">' + (escapeHtml(entry.techniqueCovered) || '‚Äî') + '</p>';
html += '</div></div>';
if (entry.techniqueNotes) {
html += '<div style="margin-bottom:32px">';
html += '<span class="view-section-label">üìù TECHNIQUE NOTES</span>';
html += '<p class="view-notes-block">' + escapeHtml(entry.techniqueNotes) + '</p></div>';
}
if (entry.photo) {
html += '<div style="margin-bottom:32px">';
html += '<span class="view-section-label">üì∏ PHOTO</span>';
html += '<img src="' + entry.photo + '" alt="Training session" style="width:100%;max-height:400px;object-fit:cover;border-radius:12px;margin-top:12px">';
html += '</div>';
}
html += '<div><span class="view-section-label">‚öîÔ∏è TRAINING ROUNDS</span>';
html += '<div style="margin-top:16px">' + roundsHtml + '</div></div>';

document.getElementById('viewDetailContent').innerHTML = html;
showView('detail');
```

};

window.editEntry = function(id) {
var entry = null;
for (var i = 0; i < entries.length; i++) { if (entries[i].id === id) { entry = entries[i]; break; } }
if (!entry) return;

```
editingEntryId = entry.id;
document.getElementById('entryDate').value = entry.date;
document.getElementById('entryInstructor').value = entry.instructor;
document.getElementById('entryTechnique').value = entry.techniqueCovered;
document.getElementById('entryTechniqueNotes').value = entry.techniqueNotes;

if (entry.photo) {
currentPhoto = entry.photo;
document.getElementById('photoPreviewImg').src = currentPhoto;
document.getElementById('photoUploadArea').classList.add('hidden');
document.getElementById('photoPreviewArea').classList.remove('hidden');
} else {
currentPhoto = null;
document.getElementById('photoInput').value = '';
document.getElementById('photoUploadArea').classList.remove('hidden');
document.getElementById('photoPreviewArea').classList.add('hidden');
}

expandedRounds = new Set();
for (var k = 0; k < entry.rounds.length; k++) {
var rd = entry.rounds[k];
if (rd.partnerName || rd.notes) expandedRounds.add(rd.roundNumber);
}
if (expandedRounds.size === 0) expandedRounds.add(1);
buildRounds();

for (var m = 0; m < entry.rounds.length; m++) {
var round = entry.rounds[m];
var pEl = document.getElementById('roundPartner' + round.roundNumber);
var nEl = document.getElementById('roundNotes' + round.roundNumber);
if (pEl) pEl.value = round.partnerName || '';
if (nEl) nEl.value = round.notes || '';
updateRoundDisplay(round.roundNumber);
}

document.getElementById('editBanner').classList.remove('hidden');
document.getElementById('editBannerText').textContent = '‚úèÔ∏è EDITING ENTRY ‚Äî ' + formatDate(entry.date);
document.getElementById('saveBtn').textContent = '‚úèÔ∏è UPDATE ENTRY';
document.getElementById('saveBtn').classList.add('editing');

showView('new');
window.scrollTo({ top: 0, behavior: 'smooth' });
```

};

window.editFromView = function() {
if (viewingEntryId) editEntry(viewingEntryId);
};

window.deleteEntry = function(id) {
if (!confirm(‚ÄòDelete this training session?‚Äô)) return;
entries = entries.filter(function(e) { return e.id !== id; });
saveToStorage();
updateEntryCount();
if (viewingEntryId === id) { viewingEntryId = null; showView(‚Äòhistory‚Äô); }
else renderHistory();
};

})();
</script>

</body>
</html>
